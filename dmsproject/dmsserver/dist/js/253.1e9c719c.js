"use strict";(self["webpackChunkwyudmsdemo"]=self["webpackChunkwyudmsdemo"]||[]).push([[253],{5315:function(e,s,t){t.r(s),t.d(s,{default:function(){return ke}});var a=t(2651),d=t(1015),l=(t(8474),t(3396)),u=t(7139),o=t(9242);const n={class:"sdstep"},i={class:"stepposition"},p={class:"stepcontainer"},r={class:"stepitem"},j={key:3},c={key:4},m={key:5,style:{color:"var(--text-green)"}},k={key:0,class:"stepline"},g={key:1,class:"stepline",style:{"border-color":"var(--primary-green)"}},y={class:"stepitem"},w={key:4},b={key:5},v={key:6,style:{color:"var(--text-green)"}},f={key:7,style:{color:"red"}},_={key:2,class:"stepline"},q={key:3,class:"stepline",style:{"border-color":"var(--primary-green)"}},h={class:"stepitem"},D={key:4},x={key:5},z={key:6,style:{color:"var(--text-green)"}},C={key:7,style:{color:"red"}},W={key:8,style:{color:"red"}},H={key:9},S={key:0,class:"stepword"},I={key:1,class:"stepword"},U={key:2,class:"stepword"},Y={key:3,class:"stepword"},Z={key:4,class:"stepword"},J={key:5,class:"stepword"},R={key:6,class:"stepword"},T={class:"stureasontext"},V=(0,l._)("span",null,"调宿原因:",-1),N={class:"stuadjusttext"},$=(0,l._)("span",null,"调宿批复:",-1),B={class:"adjuststepbtn"};function E(e,s,t,E,K,M){const P=(0,l.up)("Remove"),G=d.gn,A=(0,l.up)("Clock"),F=(0,l.up)("CircleCheck"),L=(0,l.up)("CircleClose"),O=a.Z;return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",n,[(0,l._)("div",i,[(0,l._)("div",p,[(0,l._)("div",r,[-1==E.adjuststep?((0,l.wg)(),(0,l.j4)(G,{key:0,style:{color:"var(--primary-gray)","font-size":"32px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(P)])),_:1})):(0,l.kq)("",!0),1==E.adjuststep?((0,l.wg)(),(0,l.j4)(G,{key:1,style:{color:"var(--primary-green)","font-size":"32px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(A)])),_:1})):(0,l.kq)("",!0),1!=E.adjuststep&&-1!=E.adjuststep?((0,l.wg)(),(0,l.j4)(G,{key:2,style:{color:"var(--primary-green)","font-size":"32px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(F)])),_:1})):(0,l.kq)("",!0),-1==E.adjuststep?((0,l.wg)(),(0,l.iD)("span",j,"无进程")):(0,l.kq)("",!0),1==E.adjuststep?((0,l.wg)(),(0,l.iD)("span",c,"未处理")):(0,l.kq)("",!0),1!=E.adjuststep&&-1!=E.adjuststep?((0,l.wg)(),(0,l.iD)("span",m,"已通过")):(0,l.kq)("",!0)]),1==E.adjuststep||0==E.adjuststep||-1==E.adjuststep?((0,l.wg)(),(0,l.iD)("div",k)):(0,l.kq)("",!0),1!=E.adjuststep&&0!=E.adjuststep&&-1!=E.adjuststep?((0,l.wg)(),(0,l.iD)("div",g)):(0,l.kq)("",!0),(0,l._)("div",y,[-1==E.adjuststep?((0,l.wg)(),(0,l.j4)(G,{key:0,style:{color:"var(--primary-gray)","font-size":"32px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(P)])),_:1})):(0,l.kq)("",!0),1==E.adjuststep||0==E.adjuststep?((0,l.wg)(),(0,l.j4)(G,{key:1,style:{color:"var(--primary-green)","font-size":"32px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(A)])),_:1})):(0,l.kq)("",!0),2==E.adjuststep||4==E.adjuststep||5==E.adjuststep?((0,l.wg)(),(0,l.j4)(G,{key:2,style:{color:"var(--primary-green)","font-size":"32px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(F)])),_:1})):(0,l.kq)("",!0),3==E.adjuststep?((0,l.wg)(),(0,l.j4)(G,{key:3,style:{color:"red","font-size":"32px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(L)])),_:1})):(0,l.kq)("",!0),-1==E.adjuststep?((0,l.wg)(),(0,l.iD)("span",w,"无进程")):(0,l.kq)("",!0),1==E.adjuststep||0==E.adjuststep?((0,l.wg)(),(0,l.iD)("span",b,"待处理")):(0,l.kq)("",!0),2==E.adjuststep||4==E.adjuststep||5==E.adjuststep?((0,l.wg)(),(0,l.iD)("span",v,"调宿中")):(0,l.kq)("",!0),3==E.adjuststep?((0,l.wg)(),(0,l.iD)("span",f,"未通过")):(0,l.kq)("",!0)]),4!=E.adjuststep&&5!=E.adjuststep?((0,l.wg)(),(0,l.iD)("div",_)):(0,l.kq)("",!0),5==E.adjuststep||4==E.adjuststep?((0,l.wg)(),(0,l.iD)("div",q)):(0,l.kq)("",!0),(0,l._)("div",h,[-1==E.adjuststep?((0,l.wg)(),(0,l.j4)(G,{key:0,style:{color:"var(--primary-gray)","font-size":"32px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(P)])),_:1})):(0,l.kq)("",!0),1==E.adjuststep||2==E.adjuststep||0==E.adjuststep?((0,l.wg)(),(0,l.j4)(G,{key:1,style:{color:"var(--primary-green)","font-size":"32px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(A)])),_:1})):(0,l.kq)("",!0),5==E.adjuststep?((0,l.wg)(),(0,l.j4)(G,{key:2,style:{color:"var(--primary-green)","font-size":"32px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(F)])),_:1})):(0,l.kq)("",!0),4==E.adjuststep||3==E.adjuststep?((0,l.wg)(),(0,l.j4)(G,{key:3,style:{color:"red","font-size":"32px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(L)])),_:1})):(0,l.kq)("",!0),-1==E.adjuststep?((0,l.wg)(),(0,l.iD)("span",D,"无进程")):(0,l.kq)("",!0),1==E.adjuststep||0==E.adjuststep?((0,l.wg)(),(0,l.iD)("span",x,"待处理")):(0,l.kq)("",!0),5==E.adjuststep?((0,l.wg)(),(0,l.iD)("span",z,"已完成")):(0,l.kq)("",!0),4==E.adjuststep?((0,l.wg)(),(0,l.iD)("span",C,"已取消")):(0,l.kq)("",!0),3==E.adjuststep?((0,l.wg)(),(0,l.iD)("span",W,"未通过")):(0,l.kq)("",!0),2==E.adjuststep?((0,l.wg)(),(0,l.iD)("span",H,"调宿中")):(0,l.kq)("",!0)])]),-1==E.adjuststep?((0,l.wg)(),(0,l.iD)("p",S," 当前未申请调宿，仅当需要调宿时再填写下方调宿原因 ")):(0,l.kq)("",!0),1==E.adjuststep?((0,l.wg)(),(0,l.iD)("p",I," 当前已申请调宿，请等待申请通过 ")):(0,l.kq)("",!0),0==E.adjuststep?((0,l.wg)(),(0,l.iD)("p",U,"当前调宿已通过，请等待通知")):(0,l.kq)("",!0),2==E.adjuststep?((0,l.wg)(),(0,l.iD)("p",Y," 当前调宿已开始，请调宿至"+(0,u.zw)(E.adjuststepobj.adjustbuilding)+"栋"+(0,u.zw)(E.adjuststepobj.adjustroom)+"房"+(0,u.zw)(E.adjuststepobj.adjustbed)+"床 ",1)):(0,l.kq)("",!0),3==E.adjuststep?((0,l.wg)(),(0,l.iD)("p",Z,"当前调宿未通过")):(0,l.kq)("",!0),4==E.adjuststep?((0,l.wg)(),(0,l.iD)("p",J,"当前调宿已取消")):(0,l.kq)("",!0),5==E.adjuststep?((0,l.wg)(),(0,l.iD)("p",R,"当前调宿已完成")):(0,l.kq)("",!0)]),(0,l._)("div",T,[V,(0,l.wy)((0,l._)("textarea",{"onUpdate:modelValue":s[0]||(s[0]=e=>E.adjuststepobj.reason=e)},null,512),[[o.nr,E.adjuststepobj.reason]])]),(0,l._)("div",N,[$,(0,l.wy)((0,l._)("textarea",{readonly:"","onUpdate:modelValue":s[1]||(s[1]=e=>E.adjuststepobj.adjustmessage=e)},null,512),[[o.nr,E.adjuststepobj.adjustmessage]])]),(0,l._)("div",B,[3==E.adjuststep||4==E.adjuststep||5==E.adjuststep?((0,l.wg)(),(0,l.iD)("button",{key:0,onClick:s[2]||(s[2]=(...e)=>E.confirmadjuststep&&E.confirmadjuststep(...e))}," 确定 ")):(0,l.kq)("",!0),-1==E.adjuststep?((0,l.wg)(),(0,l.iD)("button",{key:1,onClick:s[3]||(s[3]=(...e)=>E.sendadjuststep&&E.sendadjuststep(...e))},"申请调宿")):(0,l.kq)("",!0),2==E.adjuststep?((0,l.wg)(),(0,l.iD)("button",{key:2,onClick:s[4]||(s[4]=(...e)=>E.canceladjuststep&&E.canceladjuststep(...e))},"取消调宿")):(0,l.kq)("",!0),2==E.adjuststep?((0,l.wg)(),(0,l.iD)("button",{key:3,onClick:s[5]||(s[5]=(...e)=>E.finishadjuststep&&E.finishadjuststep(...e))},"完成调宿")):(0,l.kq)("",!0)])]),(0,l.Wm)(O,{style:{"z-index":"99"},handleId:E.deleteid,"onUpdate:handleId":s[6]||(s[6]=e=>E.deleteid=e),confirmStr:E.deletestr,onSettable:E.updatestep,onSettable2:E.refreshstuinfo,handleType:E.deletetype,handleMessage:E.deletemessage},null,8,["handleId","confirmStr","onSettable","onSettable2","handleType","handleMessage"])],64)}var K=t(2748),M=t(6808),P=t(4870),G=t(65),A={name:"dmsstep",components:{Clock:K.SUY,CircleCheck:K.yGk,CircleClose:K.K41,Remove:K.JWV},setup(){const e=(0,G.oR)(),s=(0,P.iH)(1),t=(0,P.qj)({id:0,reason:"",adjustbuilding:"",adjustroom:"",adjustbed:"",adjustmessage:""}),a=()=>{(0,M.tf)({stuid:e.state.dsuser.dsuserInfo.id}).then((e=>{0==e.status&&(console.log("update"),0==e.adjustdetail.length?(s.value=-1,t.id=0,t.reason="",t.adjustbuilding="",t.adjustroom="",t.adjustbed="",t.adjustmessage=""):(s.value=e.adjustdetail[0].status,t.id=e.adjustdetail[0].id,t.reason=e.adjustdetail[0].reason,t.adjustbuilding=e.adjustdetail[0].adjustbuilding,t.adjustroom=e.adjustdetail[0].adjustroom,t.adjustbed=e.adjustdetail[0].adjustbed,t.adjustmessage=e.adjustdetail[0].adjustmessage))})).catch((e=>{console.log(e.message)}))},d=()=>{(0,M.cE)({stuid:e.state.dsuser.dsuserInfo.id}).then((s=>{0==s.status?(a(),e.commit("setNoticeContent",s.message)):e.commit("setNoticeContent",s.message)})).catch((e=>{console.log(e.message)}))},u=(0,P.iH)(0),o=(0,P.iH)("确认要发起调宿申请吗？"),n=(0,P.iH)(15),i=(0,P.iH)(""),p=()=>{""==t.reason.trim()?e.commit("setNoticeContent","申请原因不能为空"):(u.value=1,o.value="确认要发起调宿申请吗？",n.value=15,i.value=t.reason.trim())},r=()=>{u.value=t.id,o.value="确认要中断调宿吗？",n.value=16,i.value=t.reason.trim()+"(学生自行取消调宿)"},j=()=>{u.value=t.id,o.value="确认已完成调宿吗？",n.value=11,i.value=t.adjustmessage+"(学生已完成调宿)"},c=()=>{a(),e.commit("dsdorm/setStuInfoStatus")};return(0,l.bv)((()=>{a(),(0,l.YP)((()=>e.state.dsdorm.stepstatus),(()=>{a()}))})),(0,l.dl)((()=>{a()})),{adjuststep:s,updatestep:a,adjuststepobj:t,confirmadjuststep:d,sendadjuststep:p,canceladjuststep:r,finishadjuststep:j,deleteid:u,deletestr:o,deletetype:n,deletemessage:i,refreshstuinfo:c}}},F=t(89);const L=(0,F.Z)(A,[["render",E]]);var O=L;const Q={class:"sdcontainer"},X={class:"sdtitle"},ee={class:"sditemtitle"},se={class:"sditemjob"},te=["onClick"],ae={class:"sditemcontainer"},de=(0,l._)("span",null,"姓名:",-1),le=(0,l._)("span",null,"班别:",-1),ue=(0,l._)("span",null,"学号:",-1),oe=(0,l._)("span",null,"手机:",-1),ne=(0,l._)("span",null,"邮箱:",-1),ie=(0,l._)("span",null,"专业:",-1),pe=(0,l._)("span",null,"辅导员:",-1);function re(e,s,t,d,o,n){const i=O,p=a.Z;return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",Q,[(0,l._)("div",X,(0,u.zw)(d.stuaddress)+" 查看宿舍信息",1),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.studorminfolist.list,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"sditem",key:e},[(0,l._)("div",ee,[(0,l._)("h1",null,(0,u.zw)(e.bed),1),(0,l._)("div",se,[(0,l._)("span",null,(0,u.zw)(e.job),1),1!=d.jobtype&&3!=d.jobtype||"舍员"!=e.job&&"层长"!=e.job?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("button",{key:0,onClick:s=>d.changejob(e.id,e.job)}," 更改",8,te)),(0,l._)("span",null,(0,u.zw)(e.sex),1)])]),(0,l._)("div",ae,[(0,l._)("p",null,[de,(0,l.Uk)(" "+(0,u.zw)(e.stuname),1)]),(0,l._)("p",null,[le,(0,l.Uk)(" "+(0,u.zw)(e.stuclass),1)]),(0,l._)("p",null,[ue,(0,l.Uk)(" "+(0,u.zw)(e.stunumber),1)]),(0,l._)("p",null,[oe,(0,l.Uk)(" "+(0,u.zw)(e.phone),1)]),(0,l._)("p",null,[ne,(0,l.Uk)(" "+(0,u.zw)(e.email),1)]),(0,l._)("p",null,[ie,(0,l.Uk)(" "+(0,u.zw)(e.major),1)]),(0,l._)("p",null,[pe,(0,l.Uk)(" "+(0,u.zw)(e.counsellor),1)])])])))),128))]),(0,l.Wm)(i),(0,l.Wm)(p,{style:{"z-index":"99"},handleId:d.deleteid,"onUpdate:handleId":s[0]||(s[0]=e=>d.deleteid=e),confirmStr:d.deletestr,onSettable:d.setroom,handleType:d.deletetype,handleJob:d.deletejob},null,8,["handleId","confirmStr","onSettable","handleType","handleJob"])],64)}var je=t(3361),ce={name:"studorminfo",components:{Dmsconfirm:a.Z,Dmsstep:O},setup(){const e=(0,G.oR)(),s=(0,P.iH)("xx栋 x层 xxx房"),t=(0,P.qj)({list:[{bed:"",sex:"",major:"",stuclass:"",stunumber:"",stuname:"",phone:"",counsellor:"",email:"",job:""}]}),a=(0,P.iH)(0),d=()=>{(0,je.BB)({stuid:e.state.dsuser.dsuserInfo.id}).then((d=>{0==d.status?(e.commit("dsuser/setStuJob",d.stuobj[0].job),s.value=`${d.stuobj[0].building}栋 ${d.stuobj[0].floor}层 ${d.stuobj[0].room}房`,(0,M.Vl)({building:d.stuobj[0].building,room:d.stuobj[0].room}).then((s=>{0==s.status?(a.value=e.state.dsuser.dsuserInfo.job,s.roomstuinfo.forEach((e=>{0==e.job?e.job="舍员":1==e.job?e.job="舍长":2==e.job?e.job="层长":3==e.job&&(e.job="舍长兼层长"),0==e.sex?e.sex="男":1==e.sex&&(e.sex="女")})),t.list=s.roomstuinfo):console.log(s.message)})).catch((e=>{console.log(e.message)}))):console.log(d.message)})).catch((e=>{console.log(e.message)}))},u=(0,P.iH)(0),o=(0,P.iH)("确认要转让舍长职务给该舍友吗？"),n=(0,P.iH)(14),i=(0,P.iH)(0),p=(e,s)=>{"舍员"==s?s=0:"舍长"==s?s=1:"层长"==s?s=2:"舍长兼层长"==s&&(s=3),i.value=s,u.value=e,o.value="确认要转让舍长职务给该舍友吗？",n.value=14};return(0,l.bv)((()=>{a.value=e.state.dsuser.dsuserInfo.job,d(),(0,l.YP)((()=>e.state.dsdorm.stuinfostatus),(()=>{d()}))})),{stuaddress:s,studorminfolist:t,jobtype:a,changejob:p,deleteid:u,deletestr:o,deletetype:n,deletejob:i,setroom:d}}};const me=(0,F.Z)(ce,[["render",re]]);var ke=me}}]);
//# sourceMappingURL=253.1e9c719c.js.map